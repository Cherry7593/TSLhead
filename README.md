# TSLhead - 玩家头颅插件

![Version](https://img.shields.io/badge/version-1.0-blue.svg)
![Minecraft](https://img.shields.io/badge/minecraft-1.21-green.svg)
![Folia](https://img.shields.io/badge/folia-supported-orange.svg)

一个用于 Minecraft 服务器的自定义玩家头颅生成插件，支持稀有度系统和离线玩家头颅获取。

## ✨ 主要功能

- 🎯 **自定义头颅生成** - 根据配置创建带有自定义名称和描述的玩家头颅
- 🌐 **离线玩家支持** - 获取任何曾经进入过服务器的玩家头颅（无需在线）
- 🔒 **UUID 稳定性** - 基于 UUID 生成，玩家改名后仍然有效
- 🎨 **丰富的颜色支持** - 支持 16 进制颜色代码和传统颜色代码
- 📦 **智能物品给予** - 背包满时自动掉落到脚下，不会丢失
- ⚡ **热重载配置** - 无需重启服务器即可重载配置
- 🛡️ **安全保护** - 防止生成的头颅在铁砧中被修改

## 🚀 快速开始

### 安装要求
- Minecraft 服务器版本：1.21+
- Java 版本：17+
- 服务端类型：Bukkit/Spigot/Paper/Folia

### 安装步骤
1. 将 `TSLhead-1.0.jar` 文件放入服务器的 `plugins` 文件夹
2. 重启服务器或使用 `/reload` 命令
3. 插件将自动生成默认配置文件

## 📖 使用方法

### 基本命令

```bash
# 获取头颅给自己
/thead <类型> <玩家名>

# 获取头颅给指定玩家
/thead <类型> <玩家名> <接收玩家>

# 重载配置
/thead reload
```

### 命令别名
- `/TSLhead` - 主命令
- `/thead` - 简短别名

### 使用示例

```bash
# 给自己获取 Steve 的 SSR 头颅
/thead SSR Steve

# 给 Alice 一个 Notch 的 R 头颅
/thead R Notch Alice

# 获取离线玩家的头颅
/thead SSR OldPlayer

# 重载插件配置
/thead reload
```

## ⚙️ 配置文件

### config.yml 配置

```yaml
SSR:
  name: "&#d9afd9[SSR] {Player_name}"
  lore:
    - "第一行描述"
    - "第二行描述"

R:
  name: "&#a1cfff[R] {Player_name}"
  lore:
    - "第一行描述"
    - "第二行描述"

# 添加更多稀有度等级...
SR:
  name: "&#ffb347[SR] {Player_name}"
  lore:
    - "稀有头颅"
    - "收集价值很高"

N:
  name: "&7[N] {Player_name}"
  lore:
    - "普通头颅"
```

### 配置说明

- **类型名称**：配置文件中的键名（如 `SSR`、`R`）
- **name**：头颅的显示名称模板
- **lore**：头颅的描述文本列表
- **{Player_name}**：会被替换为实际的玩家名称

### 颜色代码支持

| 格式 | 示例 | 说明 |
|------|------|------|
| 16进制 | `&#ff0000` | 红色 |
| 传统代码 | `&c` | 红色 |
| 组合使用 | `&#d9afd9&l[SSR]` | 粉紫色加粗 |

## 🔧 权限设置

### 权限节点

| 权限 | 描述 | 默认 |
|------|------|------|
| `tslhead.use` | 允许使用 TSLhead 命令 | OP |

### 权限配置示例

```yaml
# 在权限插件中配置
permissions:
  tslhead.use:
    description: 允许使用头颅命令
    default: op  # 或者设置为 true 给所有玩家
```

## 🎮 特殊功能

### 离线玩家支持
- ✅ 支持获取离线玩家头颅
- ✅ 基于 UUID 确保皮肤正确显示
- ✅ 玩家改名后仍然有效
- ❌ 不支持从未进入过服务器的玩家

### 智能物品给予
- 背包有空间 → 直接放入背包
- 背包已满 → 自动掉落到玩家脚下
- 显示相应的提示信息

### 防修改保护
- 生成的头颅无法在铁砧中重命名
- 保护头颅的特殊属性不被篡改

## 🎯 使用场景

### 适用服务器类型
- **RPG 服务器** - 稀有度收集系统
- **PVP 服务器** - 击杀奖励头颅
- **生存服务器** - 玩家纪念品收集
- **小游戏服务器** - 胜利奖励展示

### 实际应用示例

```bash
# 管理员奖励系统
/thead SSR WinnerPlayer RewardReceiver

# 玩家自主收集
/thead R FriendName

# 纪念离线朋友
/thead SR OldFriend
```

## 🛠️ 开发信息

### 技术特性
- **API 版本**：1.21
- **Folia 兼容**：✅ 支持
- **异步安全**：✅ 支持
- **热重载**：✅ 支持

### 依赖关系
- 无外部依赖
- 纯 Bukkit API 实现

## 📋 更新日志

### v1.0 (当前版本)
- ✨ 初始版本发布
- ✨ 支持自定义头颅类型配置
- ✨ 离线玩家头颅获取
- ✨ 智能物品给予系统
- ✨ 16进制颜色支持
- ✨ 防修改保护
- ✨ Tab 自动补全

## 🐛 故障排除

### 常见问题

**Q: 无法获取离线玩家头颅？**
A: 确保该玩家至少进入过一次服务器，插件需要服务器缓存的 UUID 数据。

**Q: 头颅没有皮肤？**
A: 检查服务器是否为正版验证，盗版服务器可能无法正确显示皮肤。

**Q: 配置修改后不生效？**
A: 使用 `/thead reload` 命令重载配置，或重启服务器。

**Q: 没有权限使用命令？**
A: 确保玩家拥有 `tslhead.use` 权限。

### 错误消息说明

| 消息 | 原因 | 解决方法 |
|------|------|----------|
| "玩家从未进入过服务器" | 目标玩家未在服务器注册 | 检查玩家名拼写或等待玩家进入 |
| "接收玩家不在线" | 接收者离线 | 确保接收玩家在线 |
| "未找到命名" | 配置中不存在该类型 | 检查配置文件或使用正确的类型名 |

## 💬 支持与反馈

如果您在使用过程中遇到问题或有改进建议，请：

1. 检查此 README 的故障排除部分
2. 确认使用的是最新版本
3. 联系服务器管理员或插件作者

---

**作者**: Zvbj  
**版本**: 1.0  
**兼容**: Minecraft 1.21+ | Bukkit/Spigot/Paper/Folia
